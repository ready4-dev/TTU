<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reporting Workflow, AQoL-6D Clinical Population Example • TTU</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Reporting Workflow, AQoL-6D Clinical Population Example">
<meta property="og:description" content="TTU">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TTU</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9320</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/TTU.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CSP_AQOL6D_TTU.html">Reporting Workflow, AQoL-6D Clinical Population Example</a>
    </li>
    <li>
      <a href="../articles/CSP_EQ5D_TTU.html">Reporting Workflow, EQ5D General Population Example</a>
    </li>
    <li>
      <a href="../articles/Model_TTU.html">Exploratory Analysis Workflow</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ready4-dev/TTU/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="CSP_AQOL6D_TTU_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="CSP_AQOL6D_TTU_files/kePrint-0.0.1/kePrint.js"></script><link href="CSP_AQOL6D_TTU_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Reporting Workflow, AQoL-6D Clinical Population Example</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ready4-dev/TTU/blob/master/vignettes/CSP_AQOL6D_TTU.Rmd"><code>vignettes/CSP_AQOL6D_TTU.Rmd</code></a></small>
      <div class="hidden name"><code>CSP_AQOL6D_TTU.Rmd</code></div>

    </div>

    
    

<!---BLOCK_LANDSCAPE_START--->
<p>This vignette is an example of implementing of a reproducible workflow to:</p>
<ul>
<li><p>develop transfer to utility models to predict AQoL-6D in a clinical mental health sample;</p></li>
<li><p>create and share catalogues of these models; and</p></li>
<li><p>author a scientific summary of the results and methods deployed.</p></li>
</ul>
<p>This example, should be read in conjunction with <a href="CSP_EQ5D_TTU.html">the vignette illustrating a reporting workflow implemented for developing an EQ-5D TTU using alternative predictors</a>, which highlights some additional considerations. It is highly recommended that you only implement this reporting workflow for your own projects once you have identified an optimal set of input parameters following an <a href="Model_TTU.html">initial exploratory analysis</a>. The benefits of undertaking such initial exploratory work include identifying where it may be appropriate to override algorithm default selections for preferred model types and covariates and discovering if it is necessary to supply non-default input parameters to address problems in model convergence.</p>
<p>As with all the vignettes included with the TTU package, this example is illustrated using entirely fake data, so do not use its outputs to inform decision making. For an example of how TTU workflows were applied to real data see <a href="https://www.medrxiv.org/content/10.1101/2021.07.07.21260129v2.full" class="uri">https://www.medrxiv.org/content/10.1101/2021.07.07.21260129v2.full</a> .</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ready4-dev.github.io/TTU/">TTU</a></span><span class="op">)</span></code></pre></div>
<div id="input-parameters" class="section level1">
<h1 class="hasAnchor">
<a href="#input-parameters" class="anchor"></a>Input parameters</h1>
<div id="reporting-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#reporting-parameters" class="anchor"></a>Reporting parameters</h2>
<div id="bibliograhic-data" class="section level3">
<h3 class="hasAnchor">
<a href="#bibliograhic-data" class="anchor"></a>Bibliograhic data</h3>
<p>We begin by specifying the authorship and other bibliographic data that we wish to attach to all reports that we generate. We use the <code>ready4show_authors</code> and <code>ready4show_institutes</code> classes of the <a href="https://ready4-dev.github.io/ready4show/">ready4show</a> package to do this.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">authors_tb</span> <span class="op">&lt;-</span> <span class="fu">ready4show</span><span class="fu">::</span><span class="fu"><a href="https://ready4-dev.github.io/ready4show/reference/ready4show_authors.html">ready4show_authors</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/add_row.html">add_case</a></span><span class="op">(</span>first_nm_chr <span class="op">=</span> <span class="st">"Alejandra"</span>,
                   middle_nm_chr <span class="op">=</span> <span class="st">"Rocio"</span>,
                   last_nm_chr <span class="op">=</span> <span class="st">"Scienceace"</span>,
                   title_chr <span class="op">=</span> <span class="st">"Dr"</span>,
                   qualifications_chr <span class="op">=</span> <span class="st">"MD, PhD"</span>,
                   institute_chr <span class="op">=</span> <span class="st">"Institute_A, Institute_B"</span>,
                   sequence_int <span class="op">=</span> <span class="fl">1</span>,
                   is_corresponding_lgl <span class="op">=</span> <span class="cn">T</span>,
                   email_chr <span class="op">=</span> <span class="st">"fake_email@fake_institute.com"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/add_row.html">add_case</a></span><span class="op">(</span>first_nm_chr <span class="op">=</span> <span class="st">"Fionn"</span>,
                   middle_nm_chr <span class="op">=</span> <span class="st">"Seamus"</span>,
                   last_nm_chr <span class="op">=</span> <span class="st">"Researchchamp"</span>,
                   title_chr <span class="op">=</span> <span class="st">"Prof"</span>,
                   qualifications_chr <span class="op">=</span> <span class="st">"MSc, PhD"</span>,
                   institute_chr <span class="op">=</span> <span class="st">"Institute_C, Institute_B"</span>,
                   sequence_int <span class="op">=</span> <span class="fl">2</span>,
                   email_chr <span class="op">=</span> <span class="st">"fake_email@fake_institute.com"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">institutes_tb</span> <span class="op">&lt;-</span> <span class="fu">ready4show</span><span class="fu">::</span><span class="fu"><a href="https://ready4-dev.github.io/ready4show/reference/ready4show_institutes.html">ready4show_institutes</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/add_row.html">add_case</a></span><span class="op">(</span>short_name_chr <span class="op">=</span> <span class="st">"Institute_A"</span>, long_name_chr <span class="op">=</span> <span class="st">"Awesome University, Shanghai"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/add_row.html">add_case</a></span><span class="op">(</span>short_name_chr <span class="op">=</span> <span class="st">"Institute_B"</span>, long_name_chr <span class="op">=</span> <span class="st">"August Institution, London"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/add_row.html">add_case</a></span><span class="op">(</span>short_name_chr <span class="op">=</span> <span class="st">"Institute_C"</span>, long_name_chr <span class="op">=</span> <span class="st">"Highly Ranked Uni, Montreal"</span><span class="op">)</span></code></pre></div>
<p>We combine the data about authors with other bibliographic information.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">header_yaml_args_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_header_yaml_args_ls.html">make_header_yaml_args_ls</a></span><span class="op">(</span>authors_tb <span class="op">=</span> <span class="va">authors_tb</span>,
                                                institutes_tb <span class="op">=</span> <span class="va">institutes_tb</span>,
                                                title_1L_chr <span class="op">=</span> <span class="st">"A hypothetical study using fake data for instructional purposes only"</span>,
                                                keywords_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"this"</span>,<span class="st">"is"</span>,<span class="st">"a"</span>,<span class="st">"replication"</span>,<span class="st">"using"</span>,<span class="st">"fake"</span>,<span class="st">"data"</span>,<span class="st">"do"</span>, <span class="st">"not"</span>,<span class="st">"cite"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="report-formatting" class="section level3">
<h3 class="hasAnchor">
<a href="#report-formatting" class="anchor"></a>Report formatting</h3>
<p>We add parameters relating to the desired output format of the reports we will be producing.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">output_format_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_output_format_ls.html">make_output_format_ls</a></span><span class="op">(</span>manuscript_outp_1L_chr <span class="op">=</span> <span class="st">"PDF"</span>,
                                          manuscript_digits_1L_int <span class="op">=</span> <span class="fl">2L</span>,
                                          supplementary_outp_1L_chr <span class="op">=</span> <span class="st">"PDF"</span>,
                                          supplementary_digits_1L_int <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="data-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#data-parameters" class="anchor"></a>Data parameters</h2>
<div id="dataset" class="section level3">
<h3 class="hasAnchor">
<a href="#dataset" class="anchor"></a>Dataset</h3>
<p>We read in our study dataset (in this case we are a <a href="https://ready4-dev.github.io/youthvars/articles/Replication_DS.html">fake dataset</a>).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ds_tb</span> <span class="op">&lt;-</span> <span class="fu">youthvars</span><span class="fu">::</span><span class="va"><a href="https://ready4-dev.github.io/youthvars/reference/replication_popl_tb.html">replication_popl_tb</a></span> <span class="op">%&gt;%</span> 
            <span class="fu">youthvars</span><span class="fu">::</span><span class="fu"><a href="https://ready4-dev.github.io/youthvars/reference/transform_raw_ds_for_analysis.html">transform_raw_ds_for_analysis</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<p>The first few records of the dataset are as follows.</p>
<table class="table  lightable-paper lightable-hover">
<caption>
Input dataset
</caption>
<thead><tr>
<th style="text-align:left;">
fkClientID
</th>
<th style="text-align:right;">
round
</th>
<th style="text-align:right;">
d_interview_date
</th>
<th style="text-align:right;">
d_age
</th>
<th style="text-align:right;">
d_agegroup
</th>
<th style="text-align:right;">
Gender
</th>
<th style="text-align:left;">
d_gender
</th>
<th style="text-align:right;">
d_sex_birth_s
</th>
<th style="text-align:right;">
d_sexual_ori_s
</th>
<th style="text-align:right;">
d_ATSI
</th>
<th style="text-align:right;">
CALD
</th>
<th style="text-align:right;">
d_country_bir_s
</th>
<th style="text-align:left;">
d_english_home
</th>
<th style="text-align:right;">
d_english_native
</th>
<th style="text-align:right;">
Region
</th>
<th style="text-align:right;">
d_studying_working
</th>
<th style="text-align:right;">
d_relation_s
</th>
<th style="text-align:right;">
s_centre
</th>
<th style="text-align:left;">
c_p_diag_s
</th>
<th style="text-align:right;">
c_clinical_staging_s
</th>
<th style="text-align:right;">
K6
</th>
<th style="text-align:right;">
PHQ9
</th>
<th style="text-align:right;">
BADS
</th>
<th style="text-align:right;">
GAD7
</th>
<th style="text-align:left;">
OASIS
</th>
<th style="text-align:right;">
SCARED
</th>
<th style="text-align:right;">
SOFAS
</th>
<th style="text-align:right;">
aqol6d_q1
</th>
<th style="text-align:right;">
aqol6d_q2
</th>
<th style="text-align:right;">
aqol6d_q3
</th>
<th style="text-align:left;">
aqol6d_q4
</th>
<th style="text-align:right;">
aqol6d_q5
</th>
<th style="text-align:right;">
aqol6d_q6
</th>
<th style="text-align:right;">
aqol6d_q7
</th>
<th style="text-align:right;">
aqol6d_q8
</th>
<th style="text-align:right;">
aqol6d_q9
</th>
<th style="text-align:left;">
aqol6d_q10
</th>
<th style="text-align:right;">
aqol6d_q11
</th>
<th style="text-align:right;">
aqol6d_q12
</th>
<th style="text-align:right;">
aqol6d_q13
</th>
<th style="text-align:right;">
aqol6d_q14
</th>
<th style="text-align:right;">
aqol6d_q15
</th>
<th style="text-align:left;">
aqol6d_q16
</th>
<th style="text-align:right;">
aqol6d_q17
</th>
<th style="text-align:right;">
aqol6d_q18
</th>
<th style="text-align:right;">
aqol6d_q19
</th>
<th style="text-align:right;">
aqol6d_q20
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Participant_1
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
2020-07-24
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
Age 12-17
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:left;">
Male
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:right;">
Heterosexual
</td>
<td style="text-align:right;">
No
</td>
<td style="text-align:right;">
No
</td>
<td style="text-align:right;">
Australia
</td>
<td style="text-align:left;">
Yes
</td>
<td style="text-align:right;">
Yes
</td>
<td style="text-align:right;">
Metro
</td>
<td style="text-align:right;">
Not studying or working
</td>
<td style="text-align:right;">
In a relationship
</td>
<td style="text-align:right;">
Southport
</td>
<td style="text-align:left;">
Other
</td>
<td style="text-align:right;">
0-1a
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
6
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
69
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_2
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
2020-04-10
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
Age 18-26
</td>
<td style="text-align:right;">
Female
</td>
<td style="text-align:left;">
Female
</td>
<td style="text-align:right;">
Female
</td>
<td style="text-align:right;">
Heterosexual
</td>
<td style="text-align:right;">
Yes
</td>
<td style="text-align:right;">
Yes
</td>
<td style="text-align:right;">
Other
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:right;">
No
</td>
<td style="text-align:right;">
Regional
</td>
<td style="text-align:right;">
Studying only
</td>
<td style="text-align:right;">
In a relationship
</td>
<td style="text-align:right;">
Regional Centre
</td>
<td style="text-align:left;">
Anxiety
</td>
<td style="text-align:right;">
0-1a
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
63
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
12
</td>
<td style="text-align:right;">
41
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_3
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
2020-07-25
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
Age 18-26
</td>
<td style="text-align:right;">
Female
</td>
<td style="text-align:left;">
Female
</td>
<td style="text-align:right;">
Female
</td>
<td style="text-align:right;">
Other
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
Metro
</td>
<td style="text-align:right;">
Studying only
</td>
<td style="text-align:right;">
Not in a relationship
</td>
<td style="text-align:right;">
Canberra
</td>
<td style="text-align:left;">
Anxiety
</td>
<td style="text-align:right;">
1b
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:left;">
12
</td>
<td style="text-align:right;">
43
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_4
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
2020-04-29
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
Age 12-17
</td>
<td style="text-align:right;">
Female
</td>
<td style="text-align:left;">
Female
</td>
<td style="text-align:right;">
Female
</td>
<td style="text-align:right;">
Heterosexual
</td>
<td style="text-align:right;">
Yes
</td>
<td style="text-align:right;">
Yes
</td>
<td style="text-align:right;">
Other
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:right;">
No
</td>
<td style="text-align:right;">
Metro
</td>
<td style="text-align:right;">
Not studying or working
</td>
<td style="text-align:right;">
In a relationship
</td>
<td style="text-align:right;">
Southport
</td>
<td style="text-align:left;">
Depression and Anxiety
</td>
<td style="text-align:right;">
2-4
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
10
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
88
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_5
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
2020-07-17
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
Age 18-26
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:left;">
Male
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:right;">
Heterosexual
</td>
<td style="text-align:right;">
Yes
</td>
<td style="text-align:right;">
Yes
</td>
<td style="text-align:right;">
Other
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:right;">
No
</td>
<td style="text-align:right;">
Metro
</td>
<td style="text-align:right;">
Not studying or working
</td>
<td style="text-align:right;">
Not in a relationship
</td>
<td style="text-align:right;">
Southport
</td>
<td style="text-align:left;">
Depression and Anxiety
</td>
<td style="text-align:right;">
0-1a
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
82
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:left;">
14
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_6
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
2020-06-15
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
Age 18-26
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:left;">
Male
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:right;">
Heterosexual
</td>
<td style="text-align:right;">
Yes
</td>
<td style="text-align:right;">
Yes
</td>
<td style="text-align:right;">
Other
</td>
<td style="text-align:left;">
No
</td>
<td style="text-align:right;">
No
</td>
<td style="text-align:right;">
Regional
</td>
<td style="text-align:right;">
Studying only
</td>
<td style="text-align:right;">
In a relationship
</td>
<td style="text-align:right;">
Regional Centre
</td>
<td style="text-align:left;">
Anxiety
</td>
<td style="text-align:right;">
1b
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
105
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
<tfoot><tr>
<td style="padding: 0; " colspan="100%">
<sup></sup>
</td>
</tr></tfoot>
</table>
</div>
<div id="data-dictionary" class="section level3">
<h3 class="hasAnchor">
<a href="#data-dictionary" class="anchor"></a>Data dictionary</h3>
<p>A data dictionary must also be supplied for the dataset. The dictionary must be of class <code>ready4use_dictionary</code> from the <a href="https://ready4-dev.github.io/ready4use/">ready4use</a> package. In this case, we are using a pre-existing dictionary.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dictionary_tb</span> <span class="op">&lt;-</span> <span class="fu">youthvars</span><span class="fu">::</span><span class="fu"><a href="https://ready4-dev.github.io/youthvars/reference/make_final_repln_ds_dict.html">make_final_repln_ds_dict</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>The first few records of the data dictionary are reproduced below.</p>
<table class="table  lightable-paper lightable-hover">
<caption>
Data dictionary
</caption>
<thead><tr>
<th style="text-align:left;">
var_nm_chr
</th>
<th style="text-align:right;">
var_ctg_chr
</th>
<th style="text-align:right;">
var_desc_chr
</th>
<th style="text-align:right;">
var_type_chr
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
aqol6d_q1
</td>
<td style="text-align:right;">
multi-attribute utility instrument question
</td>
<td style="text-align:right;">
Assessment of Quality of Life (6 Dimension) question 1
</td>
<td style="text-align:right;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
aqol6d_q10
</td>
<td style="text-align:right;">
multi-attribute utility instrument question
</td>
<td style="text-align:right;">
Assessment of Quality of Life (6 Dimension) question 10
</td>
<td style="text-align:right;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
aqol6d_q11
</td>
<td style="text-align:right;">
multi-attribute utility instrument question
</td>
<td style="text-align:right;">
Assessment of Quality of Life (6 Dimension) question 11
</td>
<td style="text-align:right;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
aqol6d_q12
</td>
<td style="text-align:right;">
multi-attribute utility instrument question
</td>
<td style="text-align:right;">
Assessment of Quality of Life (6 Dimension) question 12
</td>
<td style="text-align:right;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
aqol6d_q13
</td>
<td style="text-align:right;">
multi-attribute utility instrument question
</td>
<td style="text-align:right;">
Assessment of Quality of Life (6 Dimension) question 13
</td>
<td style="text-align:right;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
aqol6d_q14
</td>
<td style="text-align:right;">
multi-attribute utility instrument question
</td>
<td style="text-align:right;">
Assessment of Quality of Life (6 Dimension) question 14
</td>
<td style="text-align:right;">
integer
</td>
</tr>
</tbody>
<tfoot><tr>
<td style="padding: 0; " colspan="100%">
<sup></sup>
</td>
</tr></tfoot>
</table>
</div>
<div id="dataset-metadata" class="section level3">
<h3 class="hasAnchor">
<a href="#dataset-metadata" class="anchor"></a>Dataset metadata</h3>
<p>We describe the features of our dataset that are most relevant to the analyses we are planning to undertake. Note all, Multi-Attribute Utility Instrument (MAUI) question variables must start with a common prefix, which needs to be passed to the <code>maui_item_pfx_1L_chr</code> argument. The dataset does not need to include variables for total health utility scores (weighted and unweighted), as these variables will be computed during the analysis. However, you can supply the names you wish assigned to these variables once they are computed using the <code>utl_wtd_var_nm_1L_chr</code> and <code>utl_unwtd_var_nm_1L_chr</code> arguments.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ds_descvs_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_ds_descvs_ls.html">make_ds_descvs_ls</a></span><span class="op">(</span>candidate_predrs_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"K6"</span>,<span class="st">"PHQ9"</span><span class="op">)</span>,<span class="co">#</span>
                                  candidate_covar_nms_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"d_age"</span>, <span class="st">"SOFAS"</span>,
                                                              <span class="st">"c_p_diag_s"</span>,
                                                              <span class="st">"c_clinical_staging_s"</span>, 
                                                              <span class="st">"d_relation_s"</span>,
                                                              <span class="st">"d_studying_working"</span><span class="op">)</span>,
                                  cohort_descv_var_nms_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"d_age"</span>,<span class="st">"d_relation_s"</span>,
                                                               <span class="st">"d_studying_working"</span>,
                                                               <span class="st">"c_p_diag_s"</span>,<span class="st">"c_clinical_staging_s"</span>,
                                                               <span class="st">"SOFAS"</span><span class="op">)</span>,
                                  dictionary_tb <span class="op">=</span> <span class="va">dictionary_tb</span>, 
                                  id_var_nm_1L_chr <span class="op">=</span> <span class="st">"fkClientID"</span>, 
                                  is_fake_1L_lgl <span class="op">=</span> <span class="cn">T</span>,
                                  msrmnt_date_var_nm_1L_chr <span class="op">=</span> <span class="st">"d_interview_date"</span>,
                                  round_var_nm_1L_chr <span class="op">=</span> <span class="st">"round"</span>, 
                                  round_vals_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Baseline"</span>, <span class="st">"Follow-up"</span><span class="op">)</span>,
                                  maui_item_pfx_1L_chr <span class="op">=</span> <span class="st">"aqol6d_q"</span>, 
                                  utl_wtd_var_nm_1L_chr <span class="op">=</span> <span class="st">"aqol6d_total_w"</span>, 
                                  utl_unwtd_var_nm_1L_chr <span class="op">=</span> <span class="st">"aqol6d_total_c"</span><span class="op">)</span></code></pre></div>
</div>
<div id="candidate-predictors-metadata" class="section level3">
<h3 class="hasAnchor">
<a href="#candidate-predictors-metadata" class="anchor"></a>Candidate predictors metadata</h3>
<p>We create a lookup table with further metadata on the dataset variables that we specified as our candidate predictors in the <code>candidate_predrs_chr</code> element of <code>ds_descvs_ls</code>, as well as the preferred covariates that we will specify later in the <code>make_input_params</code> function.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">predictors_lup</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_pt_TTU_predictors_lup.html">make_pt_TTU_predictors_lup</a></span><span class="op">(</span>short_name_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ds_descvs_ls</span><span class="op">$</span><span class="va">candidate_predrs_chr</span>, <span class="st">"SOFAS"</span><span class="op">)</span>,
                                              long_name_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"K6 total score"</span>, <span class="st">"PHQ9 total score"</span>, <span class="st">"SOFAS total score"</span><span class="op">)</span>,
                                              min_val_dbl <span class="op">=</span> <span class="fl">0</span>,
                                              max_val_dbl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">24</span>,<span class="fl">27</span>,<span class="fl">100</span><span class="op">)</span>,
                                              class_chr <span class="op">=</span> <span class="st">"integer"</span>,
                                              increment_dbl <span class="op">=</span> <span class="fl">1</span>,
                                              class_fn_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"youthvars::youthvars_k6"</span>,
                                                               <span class="st">"youthvars::youthvars_phq9"</span>,
                                                               <span class="st">"youthvars::youthvars_sofas"</span><span class="op">)</span>,
                                              mdl_scaling_dbl <span class="op">=</span> <span class="fl">0.01</span>,
                                              covariate_lgl <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/TTU_predictors_lup.html">TTU_predictors_lup</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="multi-attribute-utility-instrument-maui-parameters" class="section level3">
<h3 class="hasAnchor">
<a href="#multi-attribute-utility-instrument-maui-parameters" class="anchor"></a>Multi-Attribute Utility Instrument (MAUI) parameters</h3>
<p>We also need to provide information specific to the MAUI used to collect the data from which health utility will be derived. The minimum allowable health utility weight for this instrument can be declared using the <code>utl_min_val_1L_dbl</code> argument.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">maui_params_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_maui_params_ls.html">make_maui_params_ls</a></span><span class="op">(</span>maui_domains_pfxs_1L_chr <span class="op">=</span> <span class="st">"vD"</span>,
                                      maui_itm_short_nms_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Household tasks"</span>,
                                                                 <span class="st">"Getting around"</span>,<span class="st">"Morbility"</span>,
                                                                 <span class="st">"Self care"</span>,<span class="st">"Enjoy close rels"</span>,
                                                                 <span class="st">"Family rels"</span>, 
                                                                 <span class="st">"Community involvement"</span>, <span class="st">"Despair"</span>, 
                                                                 <span class="st">"Worry"</span>, <span class="st">"Sad"</span>, <span class="st">"Agitated"</span>,
                                                                 <span class="st">"Energy level"</span>,<span class="st">"Control"</span>,
                                                                 <span class="st">"Coping"</span>,<span class="st">"Frequency of pain"</span>, 
                                                                 <span class="st">"Degree of pain"</span>,
                                                                 <span class="st">"Pain interference"</span>, <span class="st">"Vision"</span>,
                                                                 <span class="st">"Hearing"</span>, <span class="st">"Communication"</span><span class="op">)</span>,
                                      maui_scoring_fn <span class="op">=</span> <span class="fu">youthvars</span><span class="fu">::</span><span class="va"><a href="https://ready4-dev.github.io/youthvars/reference/add_adol6d_scores.html">add_adol6d_scores</a></span>,
                                      short_and_long_nm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"AQoL-6D"</span>,
                                                            <span class="st">"Assessment of Quality of Life - Six Dimension"</span><span class="op">)</span>,
                                      utl_min_val_1L_dbl <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="analysis-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis-parameters" class="anchor"></a>Analysis parameters</h2>
<p>We can also (but do not have to) specify how we want to adapt the input parameters we have just declared for any secondary analyses (e.g. that use different combinations of candidate predictors and covariates). We can do this using the <code>make_scndry_anlys_params</code> function.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">scndry_anlys_params_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_scndry_anlys_params.html">make_scndry_anlys_params</a></span><span class="op">(</span>candidate_predrs_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"SOFAS"</span><span class="op">)</span>,
                                                   prefd_covars_chr <span class="op">=</span> <span class="cn">NA_character_</span><span class="op">)</span></code></pre></div>
<p>We can now create a list of input parameters using the <code>make_input_params</code> function, principally using the objects created in the preceding steps. We can force the use of specified model types or covariates (rather than allowing the analysis algorithm to select these based on automated criteria) by using the <code>prefd_mdl_types_chr</code> and <code>prefd_covars_chr</code> arguments. As we have specified secondary analysis parameters, we supply these to the <code>scndry_anlys_params_ls</code> argument.</p>
<p>If <a href="TTU.html">during set-up, you have created an empty dataverse dataset to post results to</a>, assign the DOI for your dataset and the name of the dataverse containing it to the <code>dv_ds_nm_and_url_chr</code> argument (your values will be different to those below, which will not work for you). If you do not wish to post results to a dataverse dataset, set <code>dv_ds_nm_and_url_chr = NULL</code>. The <code>make_input_params</code> function performs a number of checks relating to the naming conventions used in some variables of interest and where necessary (for consistency with reporting templates) modifies the names of these variables.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">input_params_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_input_params.html">make_input_params</a></span><span class="op">(</span><span class="va">ds_tb</span>,
                                     ds_descvs_ls <span class="op">=</span> <span class="va">ds_descvs_ls</span>,
                                     dv_ds_nm_and_url_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fakes"</span>, <span class="co"># Dataverse containing dataset</span>
                                                              <span class="st">"https://doi.org/10.7910/DVN/D74QMP"</span><span class="op">)</span>, <span class="co"># DOI</span>
                                     header_yaml_args_ls <span class="op">=</span> <span class="va">header_yaml_args_ls</span>,
                                     maui_params_ls <span class="op">=</span> <span class="va">maui_params_ls</span>,
                                     output_format_ls <span class="op">=</span> <span class="va">output_format_ls</span>,
                                     predictors_lup <span class="op">=</span> <span class="va">predictors_lup</span>,
                                     prefd_covars_chr <span class="op">=</span> <span class="st">"SOFAS"</span>,
                                     prefd_mdl_types_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"OLS_CLL"</span>,<span class="st">"GLM_GSN_LOG"</span><span class="op">)</span>,
                                     scndry_anlys_params_ls <span class="op">=</span> <span class="va">scndry_anlys_params_ls</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="analyse-report-and-share" class="section level1">
<h1 class="hasAnchor">
<a href="#analyse-report-and-share" class="anchor"></a>Analyse, Report and Share</h1>
<div id="run-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#run-analysis" class="anchor"></a>Run analysis</h2>
<p>All analytic steps for our primary and secondary analyses are executed with the following function call. Note, this step can involve long execution times (potentially over an hour, depending on the input parameters).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/write_analyses.html">write_analyses</a></span><span class="op">(</span><span class="va">input_params_ls</span><span class="op">)</span></code></pre></div>
</div>
<div id="report-results" class="section level2">
<h2 class="hasAnchor">
<a href="#report-results" class="anchor"></a>Report results</h2>
<p>We now generate the catalogues (one for the primary and one for each secondary analysis) that report the models created in the preceding step. The <code>write_mdl_smry_rprt</code> function also creates shareable versions (i.e. with copies of source dataset replaced by synthetic data) of the models. This step can take several minutes to execute.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">input_params_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_mdl_smry_rprt.html">write_mdl_smry_rprt</a></span><span class="op">(</span><span class="va">input_params_ls</span>,
                                       use_shareable_mdls_1L_lgl <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
</div>
<div id="share-results" class="section level2">
<h2 class="hasAnchor">
<a href="#share-results" class="anchor"></a>Share results</h2>
<p>We can now share the results created in the previous step by posting them to the online repository, the details of which we supplied earlier.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/write_study_outp_ds.html">write_study_outp_ds</a></span><span class="op">(</span><span class="va">input_params_ls</span><span class="op">)</span></code></pre></div>
<p>The <code>write_study_outp_ds</code> function writes its outputs to a draft dataset - which you can review by logging into your dataverse account, before clicking on the option to publish the dataset. The stucture of your draft dataset should be similar to those produced by this vignette, which are viewable at: <a href="https://doi.org/10.7910/DVN/D74QMP" class="uri">https://doi.org/10.7910/DVN/D74QMP</a></p>
</div>
</div>
<div id="create-manuscript" class="section level1">
<h1 class="hasAnchor">
<a href="#create-manuscript" class="anchor"></a>Create manuscript</h1>
<div id="create-study-metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#create-study-metadata" class="anchor"></a>Create study metadata</h2>
<p>The first step to creating a manuscript that provides the scientific summary of the study is to add some metadata about the study itself to our parameters list, using the <code>make_study_descs_ls</code> function. If you want the manuscript to refer to some of the candidate predictors by different names than that provided in the <code>short_name_chr</code> column of the <code>predictors_lup</code> object defined earlier, you can create a table of name correspondences and pass it to the <code>var_nm_change_lup</code> argument.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">input_params_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_study_descs_ls.html">make_study_descs_ls</a></span><span class="op">(</span>input_params_ls <span class="op">=</span> <span class="va">input_params_ls</span>,
                                       background_1L_chr <span class="op">=</span> <span class="st">"Our study is entirely fictional and has been created to illustrate TTU package functionality."</span>,
                                       coi_1L_chr <span class="op">=</span> <span class="st">"None declared."</span>,
                                       conclusion_1L_chr <span class="op">=</span> <span class="st">"If this study was real, the results would be interesting."</span>,
                                       ethics_1L_chr <span class="op">=</span> <span class="st">"The study was reviewed and granted approval by Awesome University's Human Research Ethics Committee (1111111.1)."</span>,
                                       funding_1L_chr <span class="op">=</span> <span class="st">"The study was funded by Generous Benefactor."</span>,
                                       sample_desc_1L_chr <span class="op">=</span> <span class="st">"The study sample is fake data that pretends to be young people aged 12 to 25 years who attended Australian primary care services for mental health related needs between November 2019 to August 2020."</span>,
                                       time_btwn_bl_and_fup_1L_chr <span class="op">=</span> <span class="st">"three months"</span>,
                                       var_nm_change_lup <span class="op">=</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>old_nms_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"PHQ9"</span>,<span class="st">"GAD7"</span><span class="op">)</span>,
                                                                          new_nms_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"PHQ-9"</span>,
                                                                                          <span class="st">"GAD-7"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="render-auto-generated-first-draft" class="section level2">
<h2 class="hasAnchor">
<a href="#render-auto-generated-first-draft" class="anchor"></a>Render auto-generated first-draft</h2>
<p>We can now pass the updated input parameters list to the <code>write_manuscript</code> function. This will produce an initial draft of a scientific manuscript (detailed methods and results, a basic introduction and no discussion), by first downloading an extension to the TTU package (<a href="https://github.com/ready4-dev/ttu_lng_ss" class="uri">https://github.com/ready4-dev/ttu_lng_ss</a>). If (AND ONLY IF), you are sure that you will never develop the manuscript further with a view to future publication, you can add this automatically generated draft to the study dataset by adding <code>write_to_dv_1L_lgl = T</code> to the function call (as below).</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">results_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_manuscript.html">write_manuscript</a></span><span class="op">(</span>input_params_ls <span class="op">=</span> <span class="va">input_params_ls</span>,
                               write_to_dv_1L_lgl <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
<p>The manuscript exported to the dataset by the preceding call is accessible at: <a href="https://dataverse.harvard.edu/api/access/datafile/4957407" class="uri">https://dataverse.harvard.edu/api/access/datafile/4957407</a> . A local version will also automatically be saved on your machine and you can discover where this is by printing the object <code>results_ls$path_params_ls$paths_ls$reports_dir_1L_chr</code>.</p>
<p>You can override the output format specified in the input parameter list object by using the <code>output_type_1L_chr</code> argument. Note, that this time around we are using the <code>results_ls</code> object as the main input as this object was automatically saved (to the directory path stored in <code>results_ls$path_params_ls$paths_ls$output_data_dir_1L_chr</code>) by the preceding call.</p>
</div>
<div id="modify-for-publication" class="section level2">
<h2 class="hasAnchor">
<a href="#modify-for-publication" class="anchor"></a>Modify for publication</h2>
<p>If you wish to develop the manuscript into something you will submit for publication, consult <a href="https://github.com/ready4-dev/ttu_lng_ss" class="uri">https://github.com/ready4-dev/ttu_lng_ss</a> for guidance.</p>
</div>
</div>
<div id="purge-dataset-copies" class="section level1">
<h1 class="hasAnchor">
<a href="#purge-dataset-copies" class="anchor"></a>Purge dataset copies</h1>
<p>As a final step, it is important to delete all local copies (but not the original version) of the study dataset that were produced during the analysis.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/write_to_delete_ds_copies.html">write_to_delete_ds_copies</a></span><span class="op">(</span><span class="va">results_ls</span><span class="op">)</span></code></pre></div>

<!---BLOCK_LANDSCAPE_STOP--->
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Caroline Gao, Matthew Hamilton, Orygen, Headspace, National Health and Medical Research Council.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
